<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<!-- 
    Cache Declaration of Po Module 
      
-->

<beans>
    
    <bean id="PoCommunicationCache" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="COMMUNICATIONCACHE"/>
        <property name="maxElementsInMemory" value="10"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="100"/>
        <property name="timeToLive" value="100"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <bean id="PoStaticCache" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.STATIC"/>
        <property name="maxElementsInMemory" value="5000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <bean id="PoSelectionListCache" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.SELECTIONLISTCACHE"/>
        <property name="maxElementsInMemory" value="100"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="300"/>
        <property name="timeToLive" value="300"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    
    <bean id="PoGroupCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.GROUPCACHE"/>
        <property name="maxElementsInMemory" value="1000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <bean id="PoGroupMembershipCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.GROUPMEMBERCACHE"/>
        <property name="maxElementsInMemory" value="1000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <bean id="PoPersonCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.PERSONCACHE"/>
        <property name="maxElementsInMemory" value="1000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <!--+
        | PoModuleCache
        +-->
    <bean id="PoModuleCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.MODULECACHE"/>
        <property name="maxElementsInMemory" value="20"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="216000"/>
        <property name="timeToLive" value="216000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>

    <!--+
        | PoMenuCache
        | caches Menuentries per User as DOM objects
        | lives 6 hours. elements get flushed individually.
        +-->
    <bean id="PoMenuCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.MENUCACHE"/>
        <property name="maxElementsInMemory" value="6000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="216000"/>
        <property name="timeToLive" value="216000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    
    <bean id="PoTextModuleCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.TEXTMODULECACHE"/>
        <property name="maxElementsInMemory" value="1000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <bean id="PoKeyValueTypeCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.KEYVALUETYPECACHE"/>
        <property name="maxElementsInMemory" value="50"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
        
    <bean id="PoActionCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.ACTIONCACHE"/>
        <property name="maxElementsInMemory" value="1000"/>
        <property name="eternal" value="true"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <bean id="PoHelpMessageCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.HELPMESSAGECACHE"/>
        <property name="maxElementsInMemory" value="50"/>
        <property name="eternal" value="true"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <!--+
        + this caches lives forever
        + is only flushed by updates/changes through the service!
        +-->    
    <bean id="PoRoleCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.ROLECACHE"/>
        <property name="maxElementsInMemory" value="20"/>
        <property name="eternal" value="true"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <!--+
        + this caches lives forever
        + is only flushed by updates/changes through the service!
        +-->    
    <bean id="PoConfigFileCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.CONFIGFILECACHE"/>
        <property name="maxElementsInMemory" value="50"/>
        <property name="eternal" value="true"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <!--+
        + this caches roleholders
        + be aware that these caches should have a limited time
        + in order for planned roleholder changes to take effect!
        + it is considered that over night changes can take effect!
        +-->
    <bean id="PoRoleHolderCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.ROLEHOLDERCACHE"/>
        <property name="maxElementsInMemory" value="2000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>


    <!--+
        + this cache can increase dramatically - ev. use statistic to define best values
        + for each action and person a permission is cached! 
        + -> which actions are executed most freq.?
        + caches: actionpermissions, viewpermission, orgtrees for persons, etc. 
        +
        +--> 
    <bean id="PoPermissionCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.PERMISSIONCACHE"/>
        <property name="maxElementsInMemory" value="10000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="5000"/>
        <property name="timeToLive" value="5000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>    
    
    <bean id="PoPersonActionPermissionCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.PERSONACTIONPERMISSIONCACHE"/>
        <property name="maxElementsInMemory" value="1000"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="216000"/>
        <property name="timeToLive" value="216000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>        
    </bean>
    
    <bean id="PoGroupHierarchyCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.GROUPHIERARCHYCACHE"/>
        <property name="maxElementsInMemory" value="1"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="216000"/>
        <property name="timeToLive" value="216000"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <!--  used to speed up licencing, is valid for one hour -->
    <bean id="PoObjectCategoryMembershipCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.OBJECTCATEGORYMEMBERSHIPCACHE"/>
        <property name="maxElementsInMemory" value="10"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="3600"/>
        <property name="timeToLive" value="3600"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <!--  used to speed up licencing, is valid for one hour -->
    <bean id="PoLicenceActionCacheBean" class="at.workflow.webdesk.tools.cache.CustomEhCacheFactoryBean">
        <property name="cacheManager" ref="CacheManager"/>
        <property name="cacheName" value="at.workflow.webdesk.po.LICENCEACTIONCACHE"/>
        <property name="maxElementsInMemory" value="200"/>
        <property name="eternal" value="false"/>
        <property name="timeToIdle" value="3600"/>
        <property name="timeToLive" value="3600"/>
        <property name="overflowToDisk" value="false"/>
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
</beans>